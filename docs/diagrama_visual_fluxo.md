# 🖼️ Diagrama Visual do Fluxo do Sistema - Dashboard IFPB-CZ

## 📊 Fluxo Principal do Sistema

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           🚀 SISTEMA DASHBOARD IFPB-CZ                          │
│                         Sistema de Visualização de Dados                        │
└─────────────────────────────────────────────────────────────────────────────────┘
                                         │
                                         ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              ⚙️ INICIALIZAÇÃO                                   │
│  • Configurar Streamlit (config, CSS, layout)                                  │
│  • Carregar módulos e dependências                                             │
│  • Inicializar session_state                                                   │
│  • Aplicar configurações de segurança                                          │
└─────────────────────────────────────────────────────────────────────────────────┘
                                         │
                                         ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              🎨 INTERFACE PRINCIPAL                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────────┐  │
│  │   ☰ Botão Menu  │  │  🏛️ Logo IFPB   │  │        Área Principal           │  │
│  │   (Toggle)      │  │   (Header)      │  │      (Conteúdo Módulo)         │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────────┘
                                         │
                                         ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              📋 SIDEBAR NAVEGAÇÃO                               │
│  ┌─────────────────────────────────────────────────────────────────────────┐    │
│  │                         📋 Navegação                                    │    │
│  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐          │    │
│  │  │ 📖 Apresentação │ │ 🗺️ Mapa Campus │ │   ❓ Ajuda      │          │    │
│  │  └─────────────────┘ └─────────────────┘ └─────────────────┘          │    │
│  └─────────────────────────────────────────────────────────────────────────┘    │
│  ┌─────────────────────────────────────────────────────────────────────────┐    │
│  │                         📊 Dashboards                                  │    │
│  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐          │    │
│  │  │   🎓 Ensino     │ │ 🤝 Assistência  │ │  🔬 Pesquisa    │          │    │
│  │  └─────────────────┘ └─────────────────┘ └─────────────────┘          │    │
│  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐          │    │
│  │  │  🌟 Extensão   │ │  💰 Orçamento   │ │  👥 Servidores  │          │    │
│  │  └─────────────────┘ └─────────────────┘ └─────────────────┘          │    │
│  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐          │    │
│  │  │  📢 Ouvidoria  │ │  🔍 Auditoria   │ │ 💼 Mundo Trabalho│          │    │
│  │  └─────────────────┘ └─────────────────┘ └─────────────────┘          │    │
│  └─────────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────────┘
                                         │
                                         ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           🔄 SELEÇÃO E CARREGAMENTO                             │
│                                                                                 │
│  Usuário Seleciona Módulo ──────────┐                                          │
│                                     │                                          │
│  Botão Navegação Clicado ───────────┼─────► session_state.modulo_selecionado  │
│                                     │                                          │
│  Selectbox Dashboard ───────────────┘                                          │
└─────────────────────────────────────────────────────────────────────────────────┘
                                         │
                                         ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              💾 GERAÇÃO DE DADOS                                │
│  ┌─────────────────────────────────────────────────────────────────────────┐    │
│  │                         🔄 DataGenerator                                │    │
│  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐          │    │
│  │  │ 📄 Excel Files  │ │ 🔄 Synthetic    │ │ 🔍 Validation   │          │    │
│  │  │   (Real Data)   │ │   (Test Data)   │ │   (Security)    │          │    │
│  │  └─────────────────┘ └─────────────────┘ └─────────────────┘          │    │
│  └─────────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────────┘
                                         │
                                         ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                            📊 PROCESSAMENTO MÓDULO                              │
│                                                                                 │
│  ┌───────────────────────────────────────────────────────────────────────────┐  │
│  │                           Módulo Específico                               │  │
│  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐            │  │
│  │  │  📋 Header      │ │  📊 KPIs        │ │  📈 Gráficos    │            │  │
│  │  │  (Logo + Título)│ │  (Métricas)     │ │  (Plotly/Chart) │            │  │
│  │  └─────────────────┘ └─────────────────┘ └─────────────────┘            │  │
│  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐            │  │
│  │  │  📋 Tabelas     │ │  🔧 Filtros     │ │  📄 Footer      │            │  │
│  │  │  (DataFrames)   │ │  (Sidebar)      │ │  (Info/Links)   │            │  │
│  │  └─────────────────┘ └─────────────────┘ └─────────────────┘            │  │
│  └───────────────────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────────┘
                                         │
                                         ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                             🎨 RENDERIZAÇÃO FINAL                               │
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────┐    │
│  │                         Interface Streamlit                             │    │
│  │                                                                         │    │
│  │  📊 Gráficos Interativos (Plotly)                                      │    │
│  │  🗺️ Mapas Interativos (Folium)                                         │    │
│  │  ☁️ Nuvens de Palavras (WordCloud)                                     │    │
│  │  📋 Tabelas Ordenáveis (DataFrames)                                    │    │
│  │  📈 Métricas e KPIs (st.metric)                                        │    │
│  │  🔧 Controles Interativos (Filtros, Selectbox)                        │    │
│  └─────────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## 🔄 Fluxo de Dados Detalhado

```
📁 Fonte de Dados                    🔄 Processamento                    📊 Visualização
─────────────────                    ─────────────────                   ───────────────

┌─────────────────┐                  ┌─────────────────┐                ┌─────────────────┐
│ 📄 Excel Files  │ ────────────────►│ 📋 Load Data    │ ──────────────►│ 📊 Plotly      │
│ dados/*.xlsx    │                  │ validate()      │                │ Gráficos       │
└─────────────────┘                  └─────────────────┘                └─────────────────┘
                                              │                                  │
┌─────────────────┐                  ┌─────────────────┐                ┌─────────────────┐
│ 🔄 Synthetic    │ ────────────────►│ 🛠️ Transform   │ ──────────────►│ 🗺️ Folium      │
│ Test Data       │                  │ clean()         │                │ Mapas           │
└─────────────────┘                  └─────────────────┘                └─────────────────┘
                                              │                                  │
┌─────────────────┐                  ┌─────────────────┐                ┌─────────────────┐
│ 🌐 Future APIs  │ ────────────────►│ 🔍 Aggregate   │ ──────────────►│ ☁️ WordCloud    │
│ SUAP/Lattes     │                  │ calculate()     │                │ Palavras        │
└─────────────────┘                  └─────────────────┘                └─────────────────┘
                                              │                                  │
                                     ┌─────────────────┐                ┌─────────────────┐
                                     │ 💾 Cache Data   │ ──────────────►│ 📋 Tables       │
                                     │ @st.cache_data  │                │ DataFrames      │
                                     └─────────────────┘                └─────────────────┘
```

## 🔐 Fluxo de Segurança

```
🔒 Configuração                      🛡️ Validação                       ✅ Execução
─────────────────                    ────────────────                   ────────────

┌─────────────────┐                  ┌─────────────────┐                ┌─────────────────┐
│ ⚙️ config.py    │ ────────────────►│ 🔍 Check Mode   │ ──────────────►│ 📖 Read Only    │
│ Configurações   │                  │ Validate Perms  │                │ Visualização    │
└─────────────────┘                  └─────────────────┘                └─────────────────┘
        │                                     │                                  │
        ▼                                     ▼                                  ▼
┌─────────────────┐                  ┌─────────────────┐                ┌─────────────────┐
│ 🔐 Security     │ ────────────────►│ 🚫 Block Write  │ ──────────────►│ ✏️ Edit Mode     │
│ MODO_LEITURA    │                  │ Operations      │                │ (Admin Only)    │
└─────────────────┘                  └─────────────────┘                └─────────────────┘
        │                                     │                                  │
        ▼                                     ▼                                  ▼
┌─────────────────┐                  ┌─────────────────┐                ┌─────────────────┐
│ 📜 Scripts      │ ────────────────►│ 🧪 Test Config │ ──────────────►│ 📝 Logs         │
│ Gestão Seg.     │                  │ Integrity       │                │ Monitoramento   │
└─────────────────┘                  └─────────────────┘                └─────────────────┘
```

## 🗺️ Fluxo Específico do Módulo Mapa

```
🗺️ MÓDULO MAPA DOS CAMPUS
─────────────────────────

┌─────────────────────────────────────────────────────────────────────────────────┐
│                              📍 COORDENADAS CAMPUS                              │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │
│  │ 🏙️ Metropolitana│ │   🌾 Agreste    │ │  ⛰️ Borborema   │ │   🏜️ Cariri    │  │
│  │   (6 Campus)    │ │   (6 Campus)    │ │   (3 Campus)    │ │   (3 Campus)    │  │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘ └─────────────────┘  │
│  ┌─────────────────┐ ┌─────────────────┐                                         │
│  │   🌵 Sertão     │ │  🏖️ Litoral     │      📊 TOTAL: 25 CAMPUS IFPB          │
│  │   (4 Campus)    │ │   (3 Campus)    │                                         │
│  └─────────────────┘ └─────────────────┘                                         │
└─────────────────────────────────────────────────────────────────────────────────┘
                                         │
                                         ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              🔽 SELETOR DE FILTROS                              │
│  ┌─────────────────────────────────────────────────────────────────────────┐    │
│  │  🌎 Região: [Dropdown] ──────► Filtra campus por região geográfica     │    │
│  │  📊 Tipo: [Dropdown] ────────► Seleciona tipo de visualização          │    │
│  └─────────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────────┘
                                         │
                                         ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                             📊 OPÇÕES DE VISUALIZAÇÃO                           │
│                                                                                 │
│  ┌───────────────────────┐ ┌───────────────────────┐ ┌───────────────────────┐  │
│  │   🗺️ Mapa Interativo │ │   🗺️ Mapa Streamlit  │ │   📋 Apenas Tabela   │  │
│  │                       │ │                       │ │                       │  │
│  │ • Folium Map          │ │ • st.map() Nativo     │ │ • DataFrame Ordenado  │  │
│  │ • Markers Clicáveis   │ │ • Pontos Simples      │ │ • Filtros Aplicados   │  │
│  │ • Popups Informativos │ │ • Zoom Automático     │ │ • Coordenadas GPS     │  │
│  │ • Controles Zoom      │ │ • Performance Melhor  │ │ • Export CSV          │  │
│  └───────────────────────┘ └───────────────────────┘ └───────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────────┘
                                         │
                                         ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              📈 ESTATÍSTICAS E INFO                             │
│  ┌─────────────────────────────────────────────────────────────────────────┐    │
│  │                         📊 KPIs por Região                              │    │
│  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐          │    │
│  │  │ Total Campus    │ │ Cidades Atend.  │ │ Cobertura Est.  │          │    │
│  │  │      25         │ │       25        │ │     100%        │          │    │
│  │  └─────────────────┘ └─────────────────┘ └─────────────────┘          │    │
│  └─────────────────────────────────────────────────────────────────────────┘    │
│  ┌─────────────────────────────────────────────────────────────────────────┐    │
│  │                        ℹ️ Informações IFPB                              │    │
│  │  • Missão, Visão e Valores                                             │    │
│  │  • Tipos de Cursos Oferecidos                                          │    │
│  │  • Links para Portais Oficiais                                         │    │
│  └─────────────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## 📱 Fluxo de Responsividade

```
💻 Desktop                           📱 Tablet                          📱 Mobile
────────────                        ───────────                       ─────────

┌─────────────────┐                 ┌─────────────────┐               ┌─────────────────┐
│ ☰ Menu │ Main   │                │ ☰ │    Main     │               │ ☰               │
│ Side   │ Content│ ──────────────► │ S │   Content   │ ────────────► │ Full Screen     │
│ bar    │ Area   │                 │ i │    Area     │               │ Content         │
│ (21rem)│(Fluid) │                 │ d │  (Adapted)  │               │ (Collapsed      │
│        │        │                 │ e │             │               │  Sidebar)       │
└─────────────────┘                 └─────────────────┘               └─────────────────┘

🎯 Breakpoints:
• > 1200px: Sidebar fixa + conteúdo fluido
• 768-1200px: Sidebar adaptável + conteúdo otimizado  
• < 768px: Sidebar colapsável + conteúdo full-screen
```

---

*📅 Última atualização: 17 de julho de 2025*   
*🏛️ IFPB - Campus Cajazeiras*  
*🎨 Diagrama visual do fluxo do sistema*
